import Image from '../../components/image'

# DropdownMenu 下拉菜单

### 介绍

向下弹出的菜单列表。

## 代码演示

### 引入

```jsx
import { DropdownMenu, DropdownItem } from 'czh-weapp'
```

### 基础用法

<Image src="/imgs/dropdown-menu/basic.jpg" />

```jsx
const [value1, setValue1] = useState(0)
const [value2, setValue2] = useState('a')

const option1 = [
	{ text: '全部商品', value: 0 },
	{ text: '新款商品', value: 1 },
	{ text: '活动商品', value: 2 },
]

const option2 = [
	{ text: '默认排序', value: 'a' },
	{ text: '好评排序', value: 'b' },
	{ text: '销量排序', value: 'c' },
]

<DropdownMenu>
  <DropdownItem 
    value={value1} 
    options={option1} 
  />

  <DropdownItem 
    value={value2} 
    options={option2} 
  />
</DropdownMenu>		
```

### 向上展开

通过direction属性控制向上展开。

<Image src="/imgs/dropdown-menu/up.jpg" />

```jsx
<DropdownMenu direction="up">
  <DropdownItem 
    value={value1} 
    options={option1} 
  />

  <DropdownItem 
    value={value2} 
    options={option2} 
  />
</DropdownMenu>		
```

### 禁用菜单

通过disabled属性禁用菜单。

<Image src="/imgs/dropdown-menu/disabled.jpg" />

```jsx
<DropdownMenu>
  <DropdownItem 
    value={0} 
    options={option1} 
    disabled
  />	

  <DropdownItem 
    value="a"
    options={option2} 
    disabled
  />	
</DropdownMenu>
```

## API

### DropdownMenu Props

<div class="table-container">
| 参数 | 说明 | 类型 | 默认值 |
| --- | --- | --- | --- |
| direction | 菜单展开方向，可选值为 up \| down | _string_ | `down` |
| activeColor | 菜单标题和选项的选中态颜色 | _string_ | `#ee0a24` |
| zIndex | 菜单栏 z-index 层级 | _number_ | `10` |
| overlay | 是否显示遮罩层 | _boolean_ | `true` |
| duration | 动画时长，单位毫秒 | _number_ | `200` |
| closeOnClickOverlay | 是否在点击遮罩层后关闭菜单 | _boolean_ | `true` |
</div>

### DropdownItem Props

<div class="table-container">
| 参数 | 说明 | 类型 | 默认值 |
| --- | --- | --- | --- |
| value | 当前选中项对应的 value | _string_ \| _number_ | - |
| title | 菜单项标题 | _string_ | `当前选中项文字` |
| disabled | 是否禁用菜单	 | _boolean_ | `false` |
| options | 选项数组，请看下面的Option类型文档	| _Option[]_ | `[]` |
</div>

### DropdownItem Events

<div class="table-container">
| 事件名 | 说明 | 参数  |
| --- | --- | --- |
| onChange | 点击选项导致 value 变化时触发	 | `value` |
| onOpen | 打开菜单栏时触发	| - |
| onClose | 关闭菜单栏时触发		| - |
| onClosed | 关闭菜单栏且动画结束后触发			| - |
| onOpened | 打开菜单栏且动画结束后触发				| - |
</div>

### Option 数据结构

<div class="table-container">
| 键名 | 说明 | 类型  |
| --- | --- | --- |
| text | 文字	 | _string_ |
| value | 标识符 | _number_ \| _string_ |
| icon | 左侧图标名称，图片文件名称或图片链接 | _string_ |
</div>

### 样式变量

<div class="table-container">
| 属性 | 说明 | 默认值 |
| --- | --- | --- |
| --czh-dropdown-menu-height | 下拉菜单高度 | `100px` | 
| --czh-dropdown-menu-background-color | 下拉菜单背景色 | `--czh-color-white` | 
| --czh-dropdown-menu-box-shadow | 下拉菜单box-shadow | `0 4px 24px fade(#{var(--czh-color-gray-7)} 12)` | 
</div>